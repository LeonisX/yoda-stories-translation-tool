Yoda Stories Translation Guide
==============================

## Exe modifications

[Read Guide About YODESK.EXE Modifying](modify-exe.md)


## Graphics translation

* Startup screen
* Tiles
* Zones: 0, 76, 77


Для простоты лучше взять обычный шрифт, и потом выполнить horizontal skew со значением: 19.5.


## Text translation

* Zone Actions
* Puzzles
* Tile Names


### Character encodings

Несмотря на то, что Юникод на момент создания игры уже существовал, операционные системы семейства Windows 9x поддерживают его весьма ограниченно.
Зато активно использовались региональные кодировки, или кодовые страницы, это практика, известна ещё со времён DOS.
Идея заключается в том, что в зависимости от языка системы, одни и те же символы расширенной кодировки ASCII имели разное начертание.

Первые 127 символов кодировки ASCII оставались неизменными, но все последующие могли сильно различаться:

```
Cp1252: € ‚ƒ„…†‡ˆ‰Š‹Œ Ž  ‘’“”•–—˜™š›œ žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ
Cp1250: € ‚ „…†‡ ‰Š‹ŚŤŽŹ ‘’“”•–— ™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙
Cp1251: ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–— ™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя
```

Это приводило к определённым трудностям в то время, но и при переводе игры этому следует уделить внимание.

Поскольку Java (язык, на котором написана утилита Yoda Stories Translation Tool) изначально использует Юникод, то 
для правильного извлечения, и последующей замены текста необходимо верно подобрать кодировки, поскольку выполняются такие преобразования:

Source character encoding (dumping) -> Unicode (internal representation) -> Destination character encoding (inserting)

Для оригинала игры на английском языке, подойдёт любая кодировка, поскольку вполне хватает первых 127 символов (почти).


#### Variables

Исключение составляют два символа: ¥ (0xA5; Ґ cyrillic) и ¢ (0xA2; ў cyrillic), которые используются в Zone Actions для подстановки названий предметов.
Своего рода переменные значения. 

При переводе важно, чтобы эти специальные символы оставались неизменными. В коде реализована такая проверка.

Поэтому оригинальная кодировка будет не ASCII, а Cp1252 (Latin-1). Эта кодировка автоматически подходит
для таких западноевропейских вариантов как: испанский, итальянский и французский.

В настоящее время всё ещё не найдены французский и итальянский переводы игры. Напишите мне на tv-games@mail.ru, если у вас есть эти игры. 


#### Word files

Если вы обратите внимание на [crcs.json](/crcs.json), то в нём как раз и описаны исходные кодировки для каждого известного релиза игры.

Она используется при дампинге текста из файла данных yodesk.dta.

В DOCX файлах это значение указано в справочных целях как "Source character encoding", и его нет смысла менять на что-то другое.

Зато есть смысл поменять значение "Destination character encoding", если игра переводится на язык, не принадлежащий кодировке Cp1252.


#### Encodings (code pages)

| Encoding | Name  |
|:-:|---|
| Cp1250 | Eastern European (Latin 2) |
| Cp1251 | Cyrillic (Slavic) |
| Cp1252 | Western European (Latin-1, ANSI) |
| Cp1253 | Greek |
| Cp1254 | Turkish (Latin 5) |
| Cp1255 | Hebrew |
| Cp1256 | Arabic |
| Cp1257 | Baltic |
| Cp1258 | Vietnamese |
| MS874 | Thai |
| MS932 | Japanese |
| MS936 | Simplified Chinese |
| MS949 | Korean |
| MS950 | Traditional Chinese |
| MS950_HKSCS | Traditional Chinese + Hong Kong |
| x-Johab | Korean (Johab) |

Остальные названия кодировок можно посмотреть в [этом документе](https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html) (вторая колонка). 

